<div id="my-tasks-container" class="container jumbotron">
    <h3>My Tasks List</h3>
    <!-- <table class="table">
        <thead>
            <tr>
                <th scope="col">Task</th>
                <th scope="col"></th>
                <th scope="col"></th>
                <th scope="col">Due Date</th>
                <th scope="col"></th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let todo of todos | async" [ngClass]="{'expired': todo.isChecked}">
                <td>{{ todo.todo }}</td>
                <td>
                    <a (click)="editClick(todo.todo, todo.id)" class="btn btn-primary">Edit</a>
                </td>
                <td>
                    <a (click)="deleteTodo(todo.id)" class="btn btn-primary">Delete</a>
                </td>
                <td>
                    <input [ngClass]="{'expired': todo.isChecked}"  type="datetime-local" min="2019-01-01T00:00" max="2020-12-31T00:00" #ToSetReminder value="{{todo.dueDate}}">
                </td>
                <td>
                    <a (click)="setReminder(todo.id, ToSetReminder.value)" class="btn btn-secondary">Set Reminder</a>
                </td>
                <td>
                    <button (click)="checkDate(todo.id, todo.dueDate)" class="btn btn-light check_btn">Check Date</button>
                </td>
            </tr>
        </tbody>
    </table> -->
    <ul>
        <li *ngFor="let todo of todos | async">
                <div class="input-group mb-3">
                        <input id="todo-display" type="text" class="form-control" #TodoUpdate value={{todo.todo}} >
                        <div class="input-group-append">
                            <input [ngClass]="{'expired': todo.isChecked}"  type="datetime-local" min="2019-01-01T00:00" max="2020-12-31T00:00" #ToSetReminder value="{{todo.dueDate}}">
                            <a (click)="setReminder(todo.id, ToSetReminder.value, todo.dueDate)"><span class="material-icons">alarm</span></a>
                            <a (click)="editClick(todo.todo, todo.id)"><span class="material-icons">edit</span></a>
                            <a (click)="deleteTodo(todo.id)"><span class="material-icons">delete</span></a>
                            <a id="check-btn" (click)="checkDate(todo.id, todo.dueDate)"><span class="material-icons">check_circle_outline</span></a>
                        </div>
                </div>
        </li>
           
    </ul>
    <hr class="striped-border" style="border-width: thick;">
    <div id="update-div" class="input-group mb-3">
            <h5 style="display: inline; margin-right: 8px; margin-top: 7px;">Update your Task: </h5>
            <input style="width: fit-content;" type="text" class="form-control" #TodoUpdate value={{myValue}}>
            <div class="input-group-append">
                <a id="update-btn" (click)="updateTodo(todoId, TodoUpdate.value)" class="btn btn-secondary">Update</a>
            </div>
    </div>
</div>

<script>
    // document.getElementById('check_btn').dispatchEvent(new MouseEvent("click"));
    // let buttons = [ ];
    // buttons = document.getElementsByClassName('check_btn');

    // for(i = 0; i < buttons.length; i++) {
    //     buttons[i].dispatchEvent(new MouseEvent("click"));
    // }

    window.onload = function() {
        document.getElementById('check-btn').click();
    }
</script>
